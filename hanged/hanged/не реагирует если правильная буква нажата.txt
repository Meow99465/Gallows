using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Diagnostics.Eventing.Reader;
using System.Drawing;
using System.IO;
using System.Linq;
using System.Security.Cryptography.X509Certificates;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;

namespace hanged
{
    public partial class Gallows : Form
    {
        public string currentTheme;
        public char[] guessed_letters;
        public Gallows(string SelectedTheme)
        {
            InitializeComponent();
            currentTheme = SelectedTheme;
            LoadWords();
        }
        List<int> index_quessed_letter = new List<int>();
        public string word = null;
        int quantity_symbols = 0;
        List<string> list_of_words = new List<string>();
        public string dashword = null;
        public string result = "";
        public void LoadWords()
        {
            //currentTheme = 
            if (currentTheme == "Еда")
            {
                StreamReader read_stream = new StreamReader("C:\\Users\\lvlvv\\source\\repos\\hanged\\hanged\\Food.txt", Encoding.GetEncoding(1251));
                string line = null;
                line = read_stream.ReadLine();
                foreach (var i in line.Split(' '))
                {
                    list_of_words.Add(i);
                }
                Random rand = new Random();
                int random_number = rand.Next(0, list_of_words.Count - 1);
                word = list_of_words[random_number];
                

                MessageBox.Show(word);
                
                foreach(char sym in word)
                {
                    quantity_symbols += 1;
                }
                guessed_letters = new char[word.Length];
                for(int i = 0; i < quantity_symbols; i++)
                {
                    dashword += "- ";
                    result += "- ";
                }
                quessed_word_textbox.Text = dashword;
                list_of_words.Remove(word);
                read_stream.Close();
            }
        }

        private void Button(char letter)
        {
            int n = result.Length;
            for (int i = 0; i < word.Length; i++)

            {
                if (word[i] == letter)
                {
                    //guessed_letters[i] = letter;
                    
                    result = "";//эта хуйня сбрасывает
                    /*if(guessed_letters != null)
                    {
                        foreach (char gletter in guessed_letters)
                        {
                            result += $"{gletter}";
                        }
                    }*/
                    
                    
                    //result += $"{letter} ";
                    for(int iter = 0; iter < i; iter++)
                    {
                        result += "- ";
                    }
                    result += $"{letter} ";
                    //guessed_letters.Append(letter);
                    
                    for(int iter2 = i+1; iter2 < word.Length; iter2++)
                    {
                        result += "- ";
                    }
                }
                else
                {
                    //result += "- ";
                }
                //quessed_word_textbox.Text = result;
            }
        }

        /*private void Button(char letter)
        {
            int n = result.Length;
            for (int i = 0; i < word.Length; i++)
            {
                if (word[i] == letter)
                {
                    guessed_letters[i] = letter;
                }
            }

            result = "";
            for (int i = 0; i < word.Length; i++)
            {
                result += guessed_letters[i];
            }
           
            quessed_word_textbox.Text = result;
        }*/
        private void А_Click(object sender, EventArgs e)
        {
            Button('А');
            А.Visible = false;
        }

        private void Б_Click(object sender, EventArgs e)
        {
            Button('Б');
            Б.Visible = false;
        }

        private void В_Click(object sender, EventArgs e)
        {
            Button('В');
            В.Visible = false;
        }

        private void Г_Click(object sender, EventArgs e)
        {
            Button('Г');
            Г.Visible = false;
        }

        private void Д_Click(object sender, EventArgs e)
        {
            Button('Д');
            Д.Visible = false;
        }

        private void Е_Click(object sender, EventArgs e)
        {
            Button('Е');
            Е.Visible = false;
        }

        private void Ё_Click(object sender, EventArgs e)
        {
            Button('Ё');
            Ё.Visible = false;
        }

        private void Ж_Click(object sender, EventArgs e)
        {
            Button('Ж');
            Ж.Visible = false;
        }

        private void З_Click(object sender, EventArgs e)
        {
            Button('З');
            З.Visible = false;
        }

        private void И_Click(object sender, EventArgs e)
        {
            Button('И');
            И.Visible = false;
        }

        private void Й_Click(object sender, EventArgs e)
        {
            Button('Й');
            Й.Visible = false;
        }

        private void К_Click(object sender, EventArgs e)
        {
            Button('К');
            К.Visible = false;
        }

        private void Л_Click(object sender, EventArgs e)
        {
            Button('Л');
            Л.Visible = false;
        }

        private void М_Click(object sender, EventArgs e)
        {
            Button('М');
            М.Visible = false;
        }

        private void Н_Click(object sender, EventArgs e)
        {
            Button('Н');
            Н.Visible = false;
        }

        private void О_Click(object sender, EventArgs e)
        {
            Button('О');
            О.Visible = false;
        }

        private void П_Click(object sender, EventArgs e)
        {
            Button('П');
            П.Visible = false;
        }

        private void Р_Click(object sender, EventArgs e)
        {
            Button('Р');
            Р.Visible = false;
        }

        private void С_Click(object sender, EventArgs e)
        {
            Button('С');
            С.Visible = false;
        }

        private void Т_Click(object sender, EventArgs e)
        {
            Button('Т');
            Т.Visible = false;
        }

        private void У_Click(object sender, EventArgs e)
        {
            Button('У');
            У.Visible = false;
        }

        private void Ф_Click(object sender, EventArgs e)
        {
            Button('Ф');
            Ф.Visible = false;
        }

        private void Х_Click(object sender, EventArgs e)
        {
            Button('Х');
            Х.Visible = false;
        }

        private void Ц_Click(object sender, EventArgs e)
        {
            Button('Ц');
            Ц.Visible = false;
        }

        private void Ч_Click(object sender, EventArgs e)
        {
            Button('Ч');
            Ч.Visible = false;
        }

        private void Ш_Click(object sender, EventArgs e)
        {
            Button('Ш');
            Ш.Visible = false;
        }

        private void Щ_Click(object sender, EventArgs e)
        {
            Button('Щ');
            Щ.Visible = false;
        }

        private void Ь_Click(object sender, EventArgs e)
        {
            Button('Ь');
            Ь.Visible = false;
        }

        private void Ы_Click(object sender, EventArgs e)
        {
            Button('Ы');
            Ы.Visible = false;
        }

        private void Ъ_Click(object sender, EventArgs e)
        {
            Button('Ъ');
            Ъ.Visible = false;
        }

        private void Э_Click(object sender, EventArgs e)
        {
            Button('Э');
            Э.Visible = false;
        }

        private void Ю_Click(object sender, EventArgs e)
        {
            Button('Ю');
            Ю.Visible = false;
        }

        private void Я_Click(object sender, EventArgs e)
        {
            Button('Я');
            Я.Visible = false;
        }
        
 